{% extends "base.html" %}

{% block title %}Buy Credits - {{ panel_name }}{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <div class="card" style="padding: 40px;">
        <h1 style="font-size: 36px; font-weight: 800; margin-bottom: 10px; color: #333;">
            <i class="fas fa-wallet"></i> Buy Credits
        </h1>
        <p style="color: #666; margin-bottom: 30px;">Purchase credits to create VPS instances</p>

        {% if error %}
        <div style="background: #fee2e2; border: 2px solid #ef4444; color: #991b1b; padding: 15px; border-radius: 12px; margin-bottom: 20px;">
            <i class="fas fa-exclamation-circle"></i> {{ error }}
        </div>
        {% endif %}

        {% if success %}
        <div style="background: #d1fae5; border: 2px solid #10b981; color: #065f46; padding: 15px; border-radius: 12px; margin-bottom: 20px;">
            <i class="fas fa-check-circle"></i> {{ success }}
        </div>
        {% endif %}

        <!-- Payment Instructions -->
        <div style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); padding: 25px; border-radius: 15px; margin-bottom: 30px;">
            <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 15px; color: #333;">
                <i class="fas fa-info-circle"></i> Payment Instructions
            </h3>
            <ol style="color: #666; line-height: 1.8; padding-left: 20px;">
                <li>Send payment to UPI ID: <strong style="color: #667eea;">{{ upi_id }}</strong></li>
                <li>Or scan QR code and pay to: <strong style="color: #667eea;">{{ upi_number }}</strong></li>
                <li>Note the UPI Transaction ID</li>
                <li>Upload payment screenshot below</li>
                <li>Admin will approve within 24 hours</li>
            </ol>
        </div>

        <!-- Payment Form -->
        <form method="POST" enctype="multipart/form-data" style="margin-top: 30px;">
            <div style="margin-bottom: 25px;">
                <label style="display: block; margin-bottom: 10px; font-weight: 600; color: #333;">
                    <i class="fas fa-coins"></i> Amount (Credits)
                </label>
                <input type="number" name="amount" required min="10"
                       style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 16px;"
                       placeholder="Enter amount (minimum 10 credits)">
                <small style="color: #666; display: block; margin-top: 5px;">
                    1 Credit = â‚¹1 INR
                </small>
            </div>

            <div style="margin-bottom: 25px;">
                <label style="display: block; margin-bottom: 10px; font-weight: 600; color: #333;">
                    <i class="fas fa-receipt"></i> UPI Transaction ID
                </label>
                <input type="text" name="transaction_id" required
                       style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 16px;"
                       placeholder="Enter UPI transaction ID">
            </div>

            <div style="margin-bottom: 30px;">
                <label style="display: block; margin-bottom: 10px; font-weight: 600; color: #333;">
                    <i class="fas fa-camera"></i> Payment Screenshot
                </label>
                <input type="file" name="screenshot" required accept="image/*"
                       style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 16px;">
                <small style="color: #666; display: block; margin-top: 5px;">
                    Upload a clear screenshot of your payment confirmation
                </small>
            </div>

            <button type="submit" class="btn-primary" style="width: 100%; padding: 18px; font-size: 18px;">
                <i class="fas fa-paper-plane"></i> Submit Payment Proof
            </button>
        </form>

        <!-- UPI Information Box -->
        <div style="margin-top: 30px; padding: 25px; background: white; border: 2px solid #667eea; border-radius: 15px;">
            <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 15px; color: #333;">
                <i class="fas fa-mobile-alt"></i> UPI Payment Details
            </h3>
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                <span style="color: #666;">UPI ID:</span>
                <strong style="color: #667eea; font-size: 18px;">{{ upi_id }}</strong>
            </div>
            <div style="display: flex; justify-content: space-between;">
                <span style="color: #666;">Phone (PhonePe):</span>
                <strong style="color: #667eea; font-size: 18px;">{{ upi_number }}</strong>
            </div>
        </div>
    </div>
</div>
{% endblock %}
